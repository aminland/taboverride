/*! taboverride v4.0.0-dev | https://github.com/wjbryant/taboverride
Copyright (c) 2013 Bill Bryant | http://opensource.org/licenses/mit */
!function(a){"use strict";var b;"object"==typeof exports?a(exports):"function"==typeof define&&define.amd?define(["exports"],a):(b=window.tabOverride={},a(b))}(function(a){"use strict";function b(a,b){var c,d,e,f=["alt","ctrl","meta","shift"],g=a.length,h=!0;for(c=0;g>c;c+=1)if(!b[a[c]]){h=!1;break}if(h)for(c=0;c<f.length;c+=1){if(e=f[c]+"Key",b[e])if(g){for(h=!1,d=0;g>d;d+=1)if(e===a[d]){h=!0;break}}else h=!1;if(!h)break}return h}function c(a,c){return a===o&&b(q,c)}function d(a,c){return a===p&&b(r,c)}function e(a,b){return function(c,d){var e,f="";if(arguments.length){if("number"==typeof c&&(a(c),b.length=0,d&&d.length))for(e=0;e<d.length;e+=1)b.push(d[e]+"Key");return this}for(e=0;e<b.length;e+=1)f+=b[e].slice(0,-3)+"+";return f+a()}}function f(a){a=a||event;var b,e,f,g,h,i,j,q,r,u,v,w,x,y,z,A,B,C,D=a.currentTarget||a.srcElement,E=a.keyCode,F="character";if((!D.nodeName||"textarea"===D.nodeName.toLowerCase())&&(E===o||E===p||13===E&&s)){if(t=!1,f=D.value,q=D.scrollTop,"number"==typeof D.selectionStart)r=D.selectionStart,u=D.selectionEnd,v=f.slice(r,u);else{if(!m.selection)return;g=m.selection.createRange(),v=g.text,h=g.duplicate(),h.moveToElementText(D),h.setEndPoint("EndToEnd",g),u=h.text.length,r=u-v.length,l>1?(i=f.slice(0,r).split(k).length-1,j=v.split(k).length-1):i=j=0}if(E===o||E===p)if(b=n,e=b.length,y=0,z=0,A=0,r!==u&&-1!==v.indexOf("\n"))if(w=0===r||"\n"===f.charAt(r-1)?r:f.lastIndexOf("\n",r-1)+1,u===f.length||"\n"===f.charAt(u)?x=u:"\n"===f.charAt(u-1)?x=u-1:(x=f.indexOf("\n",u),-1===x&&(x=f.length)),c(E,a))y=1,D.value=f.slice(0,w)+b+f.slice(w,x).replace(/\n/g,function(){return y+=1,"\n"+b})+f.slice(x),g?(g.collapse(),g.moveEnd(F,u+y*e-j-i),g.moveStart(F,r+e-i),g.select()):(D.selectionStart=r+e,D.selectionEnd=u+y*e,D.scrollTop=q);else{if(!d(E,a))return;0===f.slice(w).indexOf(b)&&(w===r?v=v.slice(e):A=e,z=e),D.value=f.slice(0,w)+f.slice(w+A,r)+v.replace(new RegExp("\n"+b,"g"),function(){return y+=1,"\n"})+f.slice(u),g?(g.collapse(),g.moveEnd(F,u-z-y*e-j-i),g.moveStart(F,r-A-i),g.select()):(D.selectionStart=r-A,D.selectionEnd=u-z-y*e)}else if(c(E,a))g?(g.text=b,g.select()):(D.value=f.slice(0,r)+b+f.slice(u),D.selectionEnd=D.selectionStart=r+e,D.scrollTop=q);else{if(!d(E,a))return;0===f.slice(r-e).indexOf(b)&&(D.value=f.slice(0,r-e)+f.slice(r),g?(g.move(F,r-e-i),g.select()):(D.selectionEnd=D.selectionStart=r-e,D.scrollTop=q))}else if(s){if(0===r||"\n"===f.charAt(r-1))return t=!0,void 0;if(w=f.lastIndexOf("\n",r-1)+1,x=f.indexOf("\n",r),-1===x&&(x=f.length),B=f.slice(w,x).match(/^[ \t]*/)[0],C=B.length,w+C>r)return t=!0,void 0;g?(g.text="\n"+B,g.select()):(D.value=f.slice(0,r)+"\n"+B+f.slice(u),D.selectionEnd=D.selectionStart=r+l+C,D.scrollTop=q)}return a.preventDefault?(a.preventDefault(),void 0):(a.returnValue=!1,!1)}}function g(a){a=a||event;var b=a.keyCode;if(c(b,a)||d(b,a)||13===b&&s&&!t){if(!a.preventDefault)return a.returnValue=!1,!1;a.preventDefault()}}function h(a){function b(b){for(c=0;f>c;c+=1)b(a[c].type,a[c].handler)}var c,d,e,f=a.length;return m.addEventListener?(d=function(a){e(a),b(function(b,c){a.addEventListener(b,c,!1)})},e=function(a){b(function(b,c){a.removeEventListener(b,c,!1)})}):m.attachEvent?(d=function(a){e(a),b(function(b,c){a.attachEvent("on"+b,c)})},e=function(a){b(function(b,c){a.detachEvent("on"+b,c)})}):d=e=function(){},{add:d,remove:e}}function i(a,b){var c,d=v.length;for(c=0;d>c;c+=1)v[c](a,b)}var j,k,l,m=window.document,n="	",o=9,p=9,q=[],r=["shiftKey"],s=!0,t=!1,u=m.createElement("textarea"),v=[];j=h([{type:"keydown",handler:f},{type:"keypress",handler:g}]),a.utils={isValidModifierKeyCombo:b,createListeners:h,addListeners:j.add,removeListeners:j.remove},a.handlers={keydown:f,keypress:g},a.addExtension=function(a){return"function"==typeof a&&v.push(a),this},a.set=function(a,b){var c,d,e,f,g,h,k;if(a)for(c=arguments.length<2||b,d=a,e=d.length,"number"!=typeof e&&(d=[d],e=1),c?(f=j.add,g="true"):(f=j.remove,g=""),h=0;e>h;h+=1)k=d[h],k&&k.nodeName&&"textarea"===k.nodeName.toLowerCase()&&(i(k,c),k.setAttribute("data-taboverride-enabled",g),f(k));return this},a.tabSize=function(a){var b;if(arguments.length){if(a){if("number"==typeof a&&a>0)for(n="",b=0;a>b;b+=1)n+=" "}else n="	";return this}return"	"===n?0:n.length},a.autoIndent=function(a){return arguments.length?(s=a?!0:!1,this):s},a.tabKey=e(function(a){return arguments.length?(o=a,void 0):o},q),a.untabKey=e(function(a){return arguments.length?(p=a,void 0):p},r),u.value="\n",k=u.value,l=k.length,u=null});
/*
//@ sourceMappingURL=taboverride.min.js.map
*/